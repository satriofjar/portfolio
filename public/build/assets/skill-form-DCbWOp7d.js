import{u as g,a as p,j as e}from"./app-DaZSCCCA.js";import{B as x}from"./createLucideIcon-D6wzkX4i.js";const v=({skillData:s})=>{const{data:a,setData:t,post:c,put:b,reset:m,errors:o,progress:n}=g({name:s?.name||"",image:null,_method:s?"PUT":"POST"});console.log(a);const{props:d}=p(),i=d.flash,u=r=>{r.preventDefault(),console.log(a),s?c(route("skills.update",s.id),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>m(),onError:l=>console.error(l)}):c(route("skills.store"),{preserveScroll:!0,onSuccess:()=>m(),onError:l=>console.error(l)})};return e.jsxs("div",{className:"bg-[#171717] p-2",children:[i.success&&e.jsx("div",{className:"p-4 bg-green-100 text-green-800 rounded-lg",children:i.success}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1",children:"Name"}),e.jsx("input",{type:"text",value:a.name,onChange:r=>t("name",r.target.value),className:"border p-2 w-full"}),o.name&&e.jsx("div",{className:"text-red-500",children:o.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1",children:"Image"}),e.jsx("input",{type:"file",onChange:r=>t("image",r.target.files?r.target.files[0]:null),className:"border p-2 w-full"}),o.image&&e.jsx("div",{className:"text-red-500",children:o.image})]}),e.jsx("div",{className:"m-3",children:a.image instanceof File?e.jsx("img",{src:URL.createObjectURL(a?.image),alt:"Preview",className:"mt-2 w-20 h-20 object-cover rounded"}):s?.image&&e.jsx("img",{src:`/storage/${s.image}`,alt:"Old",className:"mt-2 w-20 h-20 object-cover rounded"})}),n&&e.jsxs("div",{className:"mb-2",children:["Uploading... ",n.percentage,"%"]}),e.jsx(x,{type:"submit",className:"w-50 bg-white text-black hover:bg-gray-200",children:s?"Edit":"Create"})]})]})};export{v as S};
