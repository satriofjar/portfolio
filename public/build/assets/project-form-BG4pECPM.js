import{u as j,a as v,j as e}from"./app-DaZSCCCA.js";import{B as N}from"./createLucideIcon-D6wzkX4i.js";import{T as k}from"./textarea-CtAxQS_H.js";import{I as o}from"./input-C5lRHIE9.js";const C=({projectData:a})=>{const{data:l,setData:r,post:x,put:b,reset:d,errors:t,progress:m}=j({title:a?.title||"",description:a?.description||"",url:a?.url||"",stack:a?.stack||[""],image:null}),{props:g}=v(),u=g.flash,h=s=>{s.preventDefault(),a?b(route("projects.update",a.id),{preserveScroll:!0,onSuccess:()=>d(),onError:c=>console.error(c)}):x(route("projects.store"),{preserveScroll:!0,onSuccess:()=>d(),onError:c=>console.error(c)})};return e.jsxs("div",{className:"bg-[#171717] p-2",children:[u.success&&e.jsx("div",{className:"p-4 bg-green-100 text-green-800 rounded-lg",children:u.success}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1",children:"Title"}),e.jsx(o,{type:"text",value:l.title,onChange:s=>r("title",s.target.value),className:"border p-2 w-full"}),t.title&&e.jsx("div",{className:"text-red-500",children:t.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1",children:"Description"}),e.jsx(k,{value:l.description,onChange:s=>r("description",s.target.value),className:"border p-2 w-full"}),t.title&&e.jsx("div",{className:"text-red-500",children:t.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1",children:"Url"}),e.jsx(o,{type:"text",value:l.url,onChange:s=>r("url",s.target.value),className:"border p-2 w-full"}),t.url&&e.jsx("div",{className:"text-red-500",children:t.url})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1",children:"Stack"}),l.stack.map((s,c)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(o,{type:"text",value:s,onChange:i=>{const n=[...l.stack];n[c]=i.target.value,r("stack",n)},className:"flex-1 p-2 border rounded",placeholder:"e.g. React"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-red-500 text-white rounded",onClick:()=>{const i=l.stack.filter((n,p)=>p!==c);r("stack",i.length?i:[""])},disabled:l.stack.length===1,children:"-"}),e.jsx("button",{type:"button",className:"px-3 py-1 bg-green-500 text-white rounded",onClick:()=>r("stack",[...l.stack,""]),children:"+"})]},c)),t.stack&&e.jsx("div",{className:"text-red-500",children:t.stack})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-1",children:"Image"}),e.jsx("input",{type:"file",onChange:s=>r("image",s.target.files?s.target.files[0]:null),className:"border p-2 w-full"}),t.image&&e.jsx("div",{className:"text-red-500",children:t.image})]}),e.jsx("div",{className:"m-3",children:l.image instanceof File?e.jsx("img",{src:URL.createObjectURL(l.image),alt:"Preview",className:"mt-2 w-20 h-20 object-cover rounded"}):a?.image&&e.jsx("img",{src:`/storage/${a.image}`,alt:"Old",className:"mt-2 w-20 h-20 object-cover rounded"})}),m&&e.jsxs("div",{className:"mb-2",children:["Uploading... ",m.percentage,"%"]}),e.jsx(N,{type:"submit",className:"w-50 bg-white text-black hover:bg-gray-200",children:a?"Edit":"Create"})]})]})};export{C as P};
